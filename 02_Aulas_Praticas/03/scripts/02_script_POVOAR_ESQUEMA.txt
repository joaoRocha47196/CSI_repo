--#############
--# Paulo Trigo
--#############



--=============
-- Liga��o � BD
--=============
\set dataBase my_gis_gps
;
\set userName postgres
;
\connect :dataBase :userName
;
--==========================
--==========================



-- Eliminar Dados (anteriores)
--=============================
DELETE FROM gps_ponto;
DELETE FROM TERRENO;
DELETE FROM TIPO_TERRENO;
---------------------------------


----------------------------
-- Povoar Dados
----------------------------
-- TIPO_TERRENO
----------------------------
INSERT INTO tipo_terreno( id_tipo_terreno )
VALUES
    ('Lago'),
    ('Floresta'),
    ('Bosque'),
    ('Planicie'),
    ('Deserto'),
    ('Vale')
;

----------------------------
-- TERRENO
----------------------------
INSERT INTO terreno( id_terreno, id_tipo_terreno )
VALUES
    (1, 'Lago'),
    (2, 'Lago'),
    (3, 'Floresta'),
    (4, 'Bosque'),
    (5, 'Planicie'),
    (6, 'Deserto'),
    (7, 'Vale')
;

----------------------------
-- GPS_PONTO
----------------------------
--================================================================================================
-- >> IMPORTANTE:
-- >> DESCOMEMNTAR A PROXIMA LINHA NA RESPOSTA A QUESTAO 3 DO GUIAO DA AULA PRATICA
-- >> (o QuantumGIS apenas regista o layer se ele tiver pelo menos 1 geometria)
--================================================================================================

-- INSERT INTO gps_ponto VALUES (1, 1,  ST_MakePoint( 0, 0 ) );




--================================================================================================
-- >> IMPORTANTE:
-- >> AS PROXIMAS LINHAS SAO PARA COMPLETAR NA RESPOSTA AS QUESTOES 5 E 6 DO GUIAO DA AULA PRATICA
--================================================================================================
-- 1. Os pontos foram editados no QuantumGis e depois gravados no PostGis
-- 2. Os INSERT foram gerado em:
-- pgAdmin III \ Tools \ Backup \ com a configuracao:
-- | File Options | Format: PLAIN"
-- | Dump Options #1 | Only Data; Use Insert Commands
-- INSERT INTO gps_ponto VALUES (1, 1, 

--
-- PostgreSQL database dump
--

-- Dumped from database version 14.2
-- Dumped by pg_dump version 14.2

-- Started on 2023-10-12 21:56:23

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4226 (class 0 OID 72363)
-- Dependencies: 217
-- Data for Name: gps_ponto; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.gps_ponto VALUES (1, 1, '010100000000000000000000000000000000000000');
INSERT INTO public.gps_ponto VALUES (1, 2, '010100000088D7B4F2730EBF3F8048EA020A1BA23F');
INSERT INTO public.gps_ponto VALUES (1, 3, '0101000000800E3F79BF33C33FB8CB5AC09562C13F');
INSERT INTO public.gps_ponto VALUES (1, 4, '0101000000D0826EC8DF95B13F10DCF3B8E462CB3F');
INSERT INTO public.gps_ponto VALUES (1, 5, '010100000060CE8C6918E59EBF7054B5232053C83F');
INSERT INTO public.gps_ponto VALUES (1, 6, '010100000060D3D14C76B8C0BF70B13F9D2681BF3F');
INSERT INTO public.gps_ponto VALUES (1, 7, '01010000009C8DEA436E73C23F40605B682977AFBF');
INSERT INTO public.gps_ponto VALUES (2, 1, '01010000008802B941E8ADB53FA3899EA5C75BE63F');
INSERT INTO public.gps_ponto VALUES (2, 2, '0101000000502186E8C0D9BB3F6D7F1A71D6BAEA3F');
INSERT INTO public.gps_ponto VALUES (2, 3, '0101000000003466CDD57A9CBFEF149D7D5331EB3F');
INSERT INTO public.gps_ponto VALUES (4, 2, '0101000000188BE63E8A47BBBF46A4987893D9E73F');
INSERT INTO public.gps_ponto VALUES (5, 2, '010100000020A2C85DA990C63F344CDA086FDFE63F');


-- Completed on 2023-10-12 21:56:23

--
-- PostgreSQL database dump complete
--



-- 1. Os pontos foram editados no QuantumGis e depois gravados no PostGis
-- 2. Os INSERT foram gerado em:
-- pgAdmin III \ Tools \ Query Tool \ com a interrogacao:
-- SELECT ST_AsText(g_ponto) FROM gps_ponto;
-- e depois executando essa interrogacao para um ficheiro (em Query \ Execute to file)
-- por fim substituindo no ficheiro gerado POINT por ST_MakePoint
-- INSERT INTO gps_ponto VALUES (1, 1,  ST_MakePoint(




