--#############
--# Paulo Trigo
--#############



--=============
-- Liga��o � BD
--=============
\set dataBase my_gis_gps
;
\set userName postgres
;
\connect :dataBase :userName
;
--==========================
--==========================



-- Eliminar Dados (anteriores)
--=============================
DELETE FROM gps_ponto;
DELETE FROM TERRENO;
DELETE FROM TIPO_TERRENO;
---------------------------------


----------------------------
-- Povoar Dados
----------------------------
-- TIPO_TERRENO
----------------------------
INSERT INTO tipo_terreno( id_tipo_terreno )
VALUES
    ('Lago'),
    ('Floresta'),
    ('Bosque'),
    ('Planicie'),
    ('Deserto'),
    ('Vale')
;

----------------------------
-- TERRENO
----------------------------
INSERT INTO terreno( id_terreno, id_tipo_terreno )
VALUES
    (1, 'Lago'),
    (2, 'Lago'),
    (3, 'Floresta'),
    (4, 'Bosque'),
    (5, 'Planicie'),
    (6, 'Deserto'),
    (7, 'Vale')
;

----------------------------
-- GPS_PONTO
----------------------------
--================================================================================================
-- >> IMPORTANTE:
-- >> DESCOMEMNTAR A PROXIMA LINHA NA RESPOSTA A QUESTAO 3 DO GUIAO DA AULA PRATICA
-- >> (o QuantumGIS apenas regista o layer se ele tiver pelo menos 1 geometria)
--================================================================================================

-- INSERT INTO gps_ponto VALUES (1, 1,  ST_MakePoint( 0, 0 ) );




--================================================================================================
-- >> IMPORTANTE:
-- >> AS PROXIMAS LINHAS SAO PARA COMPLETAR NA RESPOSTA AS QUESTOES 5 E 6 DO GUIAO DA AULA PRATICA
--================================================================================================
-- 1. Os pontos foram editados no QuantumGis e depois gravados no PostGis
-- 2. Os INSERT foram gerado em:
-- pgAdmin III \ Tools \ Backup \ com a configuracao:
-- | File Options | Format: PLAIN"
-- | Dump Options #1 | Only Data; Use Insert Commands
-- INSERT INTO gps_ponto VALUES (1, 1, 

--
-- PostgreSQL database dump
--

-- Dumped from database version 14.2
-- Dumped by pg_dump version 14.2

-- Started on 2023-10-12 21:56:23

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4226 (class 0 OID 72363)
-- Dependencies: 217
-- Data for Name: gps_ponto; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.gps_ponto VALUES (1,1,'POINT(0 0)');
INSERT INTO public.gps_ponto VALUES (1,2,'POINT(0.121314284090515 0.035362542014938)');
INSERT INTO public.gps_ponto VALUES (1,3,'POINT(0.150016721918394 0.135821074412517)');
INSERT INTO public.gps_ponto VALUES (1,4,'POINT(0.068693148072735 0.213955488499522)');
INSERT INTO public.gps_ponto VALUES (1,5,'POINT(-0.030170804445517 0.190036790309623)');
INSERT INTO public.gps_ponto VALUES (1,6,'POINT(-0.130629336843096 0.123064435377904)');
INSERT INTO public.gps_ponto VALUES (1,7,'POINT(0.144147666132182 -0.061456006993183)');
INSERT INTO public.gps_ponto VALUES (2,1,'POINT(0.084684864087658 0.698703597521945)');
INSERT INTO public.gps_ponto VALUES (2,2,'POINT(0.108791405457059 0.835307331948554)');
INSERT INTO public.gps_ponto VALUES (2,3,'POINT(-0.027812328969549 0.849771256770195)');
INSERT INTO public.gps_ponto VALUES (4,2,'POINT(-0.106560364109594 0.745309577502788)');
INSERT INTO public.gps_ponto VALUES (5,2,'POINT(0.176289721291384 0.714774625101546)');



-- Completed on 2023-10-12 21:56:23

--
-- PostgreSQL database dump complete
--



-- 1. Os pontos foram editados no QuantumGis e depois gravados no PostGis
-- 2. Os INSERT foram gerado em:
-- pgAdmin III \ Tools \ Query Tool \ com a interrogacao:
-- SELECT ST_AsText(g_ponto) FROM gps_ponto;
-- e depois executando essa interrogacao para um ficheiro (em Query \ Execute to file)
-- por fim substituindo no ficheiro gerado POINT por ST_MakePoint
-- INSERT INTO gps_ponto VALUES (1, 1,  ST_MakePoint(




